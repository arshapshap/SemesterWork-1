<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/auth.css">
    <title>Регистрация</title>
</head>

<script>
    function checkForm() {
        var correctLogin = checkLogin()
        var correctName = checkName()
        var correctPasswords = matchPassword()
        return correctLogin && correctName && correctPasswords
    }

    function checkLogin() {
        var login = document.getElementById("login").value;
        if (/^[a-zA-Z0-9_]*$/.test(login)) {
            document.getElementById("correct-login-hint").style.display = "none"
            return true
        }
        else {
            document.getElementById("correct-login-hint").style.display = "block"
            return false
        }
    }

    function checkName() {
        var name = document.getElementById("name").value;
        if (/^[а-яА-ЯёЁ ]*$/.test(name)) {
            document.getElementById("correct-name-hint").style.display = "none"
            return true
        }
        else {
            document.getElementById("correct-name-hint").style.display = "block"
            return false
        }
    }

    function matchPassword() {
        var pw1 = document.getElementById("password").value;
        var pw2 = document.getElementById("password-confirm").value;
        if (pw1 == pw2) {
            document.getElementById("password-confirm-hint").style.display = "none"
            return true
        }
        else {
            document.getElementById("password-confirm-hint").style.display = "block"
            return false
        }
    }
</script>

<body class="body">
    <div class="container">
        <div class="header-left">
            <a href="/main.html">
                <img class="profile-image" src="/img/home.png">
            </a>
        </div>
        <form class="form" name="register" method="POST" action="/users/register" onsubmit="return checkForm();">
            <div>
                <div class="title">Создайте аккаунт</div>
                <div class="title-hint">Создайте аккаунт, чтобы оставлять комментарии и публиковать посты.</div>
            </div>
            <div class="fields">
                <div class="field">
                    <span class="field-title">Логин</span>
                    <input class="field-input" type="text" id="login" name="login" required="required" maxlength="50">
                    <div id="correct-login-hint" class="field-hint">Логин может содержать только латинские буквы, цифры и нижнее подчеркивание</div>
                </div>
                <div class="field">
                    <span class="field-title">Фамилия и имя</span>
                    <input class="field-input" type="text" id="name" name="name" required="required" maxlength="50">
                    <div id="correct-name-hint" class="field-hint">Имя может содержать только кириллицу</div>
                </div>
                <div class="field">
                    <span class="field-title">Пароль</span>
                    <input class="field-input" type="password" id="password" name="password" required="required" minlength="8" maxlength="50">
                </div>
                <div class="field">
                    <span class="field-title">Подтвердите пароль</span>
                    <input class="field-input" type="password" id="password-confirm" required="required" minlength="8" maxlength="50">
                    <div id="password-confirm-hint" class="field-hint">Пароли должны совпадать</div>
                </div>
            </div>
            <div class="remember-me">
                <div>
                    <input class="checkbox-hided" type="checkbox" id="remember-me"></input>
                    <div class="checkbox">
                        <img class="checkmark" src="/img/checkmark.png">
                    </div>
                </div>
                <label for="remember-me" class="remember-me-text">Запомнить меня</label>
            </div>
            <button class="button" type="submit">Зарегистрироваться</button>
            <div class="bottom-hint">
                <span>Есть аккаунт?
                    <a href="/auth.html" class="link">Авторизоваться</a>
                </span>
            </div>
        </form>
    </div>
</body>

</html>